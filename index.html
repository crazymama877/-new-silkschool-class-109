<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ä¸è·¯å­¦å­109å°å¤©ä½¿ç­</title>
    <style>
        :root { --primary: #6eb5ff; --bg: #f5f9ff; --success: #76c893; --accent: #ffcc5c; }
        body { font-family: "Microsoft YaHei", sans-serif; background: var(--bg); margin: 0; padding: 0; overflow-x: hidden; }
        
        /* å¯¼èˆªæ  */
        nav { background: white; padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .title-area h1 { margin: 0; color: var(--primary); font-size: 24px; display: inline-block; }
        #clock { display: inline-block; margin-left: 15px; color: #888; font-size: 14px; }
        .nav-links a { text-decoration: none; color: white; background: var(--primary); padding: 8px 18px; border-radius: 20px; margin-left: 10px; font-size: 14px; transition: 0.3s; }

        /* ä¸»å®¹å™¨å¸ƒå±€ */
        .main-content { 
    max-width: 1300px; 
    margin: 20px auto; 
    padding: 0 20px; 
    /* æ ¸å¿ƒä¿®æ”¹ï¼šå¼€å¯ä¸¤åˆ—ç½‘æ ¼ */
    display: grid; 
    grid-template-columns: 1fr 1fr; /* 1fr 1fr è¡¨ç¤ºå·¦å³å„å ä¸€åŠ */
    gap: 20px; /* æ¿å—ä¹‹é—´çš„é—´è· */
}
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.03); position: relative; }
        .full-width { grid-column: span 2; }
        
        h2 { color: var(--primary); border-left: 5px solid var(--primary); padding-left: 12px; margin-top: 0; font-size: 18px; margin-bottom: 15px; }

        /* å­¦ä¹ å›­åœ°æ ·å¼ */
        .study-park { background: #fffcf0; border: 1px dashed #ffd8a8; padding: 15px; border-radius: 10px; line-height: 1.8; font-size: 15px; }

        /* èƒ½é‡åŠ æ²¹ç«™ä¸“åŒº */
        .energy-station { 
    grid-column: span 2; /* å¼ºåˆ¶æ¨ªè·¨ 2 åˆ—ï¼Œå æ»¡ä¸€æ•´è¡Œ */
}
        .energy-station { grid-column: span 2; padding: 30px; background: linear-gradient(to bottom, #ffffff, #f0f7ff); }
        
        /* è¿›åº¦æ¡æ ·å¼ */
        .progress-container { margin-bottom: 25px; text-align: center; }
        .progress-label { font-weight: bold; color: #555; margin-bottom: 8px; display: block; font-size: 18px; }
        .progress-bar-bg { background: #eee; height: 24px; border-radius: 12px; overflow: hidden; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); border: 2px solid #fff; }
        .progress-bar-fill { 
            height: 100%; width: 0%; background: linear-gradient(90deg, #b5e48c, #76c893); 
            transition: width 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: bold;
        }

        /* å­¦ç”Ÿæ ¼å­æ›´å¤§æ›´æ–¹ä¾¿ç‚¹å‡» */
        .student-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 12px; }
        .student-item { 
            padding: 15px 10px; border: 2px solid #f0f0f0; border-radius: 10px; text-align: center; 
            cursor: pointer; background: white; font-size: 15px; transition: all 0.2s; user-select: none;
        }
        .student-item:hover { transform: scale(1.05); border-color: var(--primary); box-shadow: 0 5px 10px rgba(0,0,0,0.05); }
        .student-item.done { background: var(--success) !important; color: white !important; border-color: #64b37d; font-weight: bold; }

        /* æ’’èŠ±ç”»å¸ƒ */
        #confetti-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; }
    </style>
</head>
<body>

<canvas id="confetti-canvas"></canvas>

<nav>
    <div class="title-area">
        <h1>ä¸è·¯å­¦å­109å°å¤©ä½¿ç­</h1>
        <div id="clock">åŠ è½½ä¸­...</div>
    </div>
    <div class="nav-links">
        <a href="garden.html" target="_blank">ğŸŒ» æ—©è¯»èŠ±å›­</a>
        <a href="forest.html" target="_blank">ğŸŒ² å®‰é™æ£®æ—</a>
    </div>
</nav>

<div class="main-content">
    <div class="card">
        <h2>ä¸€ã€å°å¤©ä½¿è¯­å½•</h2>
        <div style="font-size: 28px; color: #010101; line-height: 1.7;">
            1. åˆ°æ ¡å‡†å¤‡ä½œä¸šæœ¬ï¼Œæ—©è¯»åä¸Šäº¤ã€‚<br>
            2. ä¸‹è¯¾å‡†å¤‡ä¸‹èŠ‚è¯¾ä¹¦æœ¬ï¼Œå‹¤å–æ°´ã€‚<br>
            3. ä¸Šè¯¾å¤§å£°è¯´ï¼Œè¯¾é—´å°å£°è¯´ã€‚<br>
            4. ç”¨å¿ƒå¬è¯¾ï¼Œé™å¿ƒç”¨é¤ï¼Œå‹¿é—²èŠã€‚<br>
            5. èµ°è·¯è„šæ­¥è½»ï¼Œä¸è¿½ä¸æ‰“ä¸æŒ¤ã€‚<br>
            6. ä¸»åŠ¨åˆ†æ‹…ï¼Œä¸è®¡è¾ƒä¸äº‰åµã€‚<br>
            7. ä»ªå®¹æ•´é½ï¼Œåº§ä½ç¯å¢ƒæ•´æ´ã€‚<br>
            8. å°†å¿ƒæ¯”å¿ƒï¼Œä¸ç»™ä»–äººæ·»éº»çƒ¦ã€‚<br>
            9. æŠŠæ¡æ—¶é—´é˜…è¯»ï¼Œåˆ†äº«æˆé•¿ã€‚<br>
            10. ä¸ºè‡ªå·±è´Ÿè´£ï¼Œæœ‰ä½™åŠ›æ‰åŠ©äººã€‚
        </div>
    </div>
    
    <div class="card">
        <h2>äºŒã€ä»Šæ—¥å€¼æ—¥ç”Ÿ</h2>
        <div id="duty-display" style="font-size: 32px;"></div>
    </div>

    <div class="card">
        <h2>ä¸‰ã€æœ¬å‘¨è®°äº‹</h2>
        <div id="weekly-notes" style="font-size: 30px; color: #030303; line-height: 1.6;"></div>
    </div>

    <div class="card">
        <h2>å››ã€ä»Šæ—¥å­¦ä¹ å›­åœ°</h2>
        <div id="study-park-content" class="study-park">
            </div>
    </div>

    <div class="card energy-station">
        <h2>ğŸš€ èƒ½é‡åŠ æ²¹ç«™</h2>
        
        <div class="progress-container">
            <span class="progress-label">ç­çº§èƒ½é‡å……èƒ½ä¸­ï¼š<span id="percent-text">0</span>%</span>
            <div class="progress-bar-bg">
                <div id="progress-fill" class="progress-bar-fill"></div>
            </div>
        </div>

        <div class="student-grid" id="student-container"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
    // ==========================================
    // ğŸ’¡ æ•™å¸ˆä¿®æ”¹åŒºï¼šåœ¨è¿™é‡Œæ”¹å†…å®¹
    // ==========================================
    const CONFIG = {
        studyPark: "1. å¾…å®š\n2. å¾…å®š\n3. å¾…å®š",
        weeklyNotes: "1.22ï¼šç¬¬å…­å•å…ƒæ£€æµ‹ï¼Œè¯­æ–‡è¯¾å ‚ä½œä¸šæœ¬è®¢æ­£\n1.23ï¼šç¬¬ä¸ƒã€å…«å•å…ƒæ£€æµ‹ï¼Œè¯­æ–‡è¯¾å ‚ä½œä¸šæœ¬è®¢æ­£"
    };

    // --- åˆå§‹åŒ–å†…å®¹ ---
    document.getElementById('study-park-content').innerText = CONFIG.studyPark;
    document.getElementById('weekly-notes').innerText = CONFIG.weeklyNotes;

    // --- æ—¶é’Ÿ ---
    function updateTime() {
        const now = new Date();
        document.getElementById('clock').innerHTML = now.toLocaleString('zh-CN', { hour12: false });
    }
    setInterval(updateTime, 1000); updateTime();

    // --- å€¼æ—¥ç”Ÿé€»è¾‘ ---
    const dutyTable = {
        1: { "æ‰«åœ°": "é™ˆç‘¾ä¹‹, é™ˆçƒæ¥š, å–»äº‘æ…ˆ, æ›¹è¯‘å¿ƒ", "æ‹–åœ°": "æ›¾å¯èˆª", "å€’åƒåœ¾": "é™ˆå˜‰ç…œ", "æ“¦é¤æ¡Œ": "å®‰æ³½é’§, åŒ…åšç„¶" },
        2: { "æ‰«åœ°": "é™ˆè¯­å«£, èƒ¡å¯ä¸€, é‡‘æ˜•æ©™, å­£èŠ·ç³", "æ‹–åœ°": "é™ˆæ€è¿œ", "å€’åƒåœ¾": "é»„ä½‘éºŸ", "æ“¦é¤æ¡Œ": "é‡‘ç¬ é˜³, é‡‘ç¬ è¿œ" },
        3: { "æ‰«åœ°": "åŠ³ä¸€è¯º, ææŒ¯æ´‹, å•ç»å¿ƒ, é‚µæ€€å®‰", "æ‹–åœ°": "åˆ˜é”´æ³½", "å€’åƒåœ¾": "å•ä¹å®‰", "æ“¦é¤æ¡Œ": "ä¸‡æ²ç†¹, ä¸‡æ²è¨€" },
        4: { "æ‰«åœ°": "ç‹æ™¨å¸Œ, ç‹æ§¿æ¬, å®£æ¥šæ¬, å´æ²æ¶µ", "æ‹–åœ°": "å¾é€¸å®¸", "å€’åƒåœ¾": "ç‹æ˜æœ—", "æ“¦é¤æ¡Œ": "è”¡ä¸ç…œ, è–›ä¸ç„±" },
        5: { "æ‰«åœ°": "å¼ æƒ æœˆ, å¼ å‡Œèµ«, å¼ æ–°æ‚¦, å¼ èŠ·èŒ", "æ‹–åœ°": "å‘¨æ˜±æ°", "å€’åƒåœ¾": "å¼ å‡Œäº‘", "æ“¦é¤æ¡Œ": "å¼ ç…œå®¸, èµµç…œå®" }
    };
    const day = new Date().getDay() || 1;
    const info = dutyTable[day > 5 ? 1 : day];
    let dutyHtml = '';
    for(let k in info) dutyHtml += `<p style="margin:4px 0;"><b>${k}:</b> ${info[k]}</p>`;
    document.getElementById('duty-display').innerHTML = dutyHtml;

    // --- åå•ä¸èƒ½é‡æ¡é€»è¾‘ ---
    const students = ["å®‰æ³½é’§","åŒ…åšç„¶","è”¡ä¸ç…œ","æ›¹è¯‘å¿ƒ","æ›¾å¯èˆª","é™ˆå˜‰ç…œ","é™ˆç‘¾ä¹‹","é™ˆçƒæ¥š","é™ˆæ€è¿œ","é™ˆè¯­å«£","èƒ¡å¯ä¸€","é»„ä½‘éºŸ","å­£èŠ·ç³","é‡‘ç¬ é˜³","é‡‘ç¬ è¿œ","é‡‘æ˜•æ©™","åŠ³ä¸€è¯º","ææŒ¯æ´‹","åˆ˜é”´æ³½","å•ä¹å®‰","å•ç»å¿ƒ","é‚µæ€€å®‰","ä¸‡æ²ç†¹","ä¸‡æ²è¨€","ç‹æ™¨å¸Œ","ç‹æ§¿æ¬","ç‹æ˜æœ—","å´æ²æ¶µ","å¾é€¸å®¸","å®£æ¥šæ¬","è–›ä¸ç„±","å–»äº‘æ…ˆ","å¼ æƒ æœˆ","å¼ å‡Œèµ«","å¼ æ–°æ‚¦","å¼ èŠ·èŒ","å‘¨æ˜±æ°","å¼ å‡Œäº‘","å¼ ç…œå®¸","èµµç…œå®"];
    const container = document.getElementById('student-container');
    const totalCount = students.length;
    let doneCount = 0;

    function updateProgress() {
        const percent = Math.round((doneCount / totalCount) * 100);
        const fill = document.getElementById('progress-fill');
        fill.style.width = percent + "%";
        document.getElementById('percent-text').innerText = percent;
        
        // å¦‚æœè¾¾åˆ°100%ï¼Œè§¦å‘æ’’èŠ±
        if (percent === 100) {
            fireConfetti();
        }
    }

    function fireConfetti() {
        var end = Date.now() + (3 * 1000); // æŒç»­3ç§’
        var colors = ['#bb0000', '#ffffff', '#6eb5ff', '#76c893'];

        (function frame() {
            confetti({
                particleCount: 5,
                angle: 60,
                spread: 55,
                origin: { x: 0 },
                colors: colors
            });
            confetti({
                particleCount: 5,
                angle: 120,
                spread: 55,
                origin: { x: 1 },
                colors: colors
            });

            if (Date.now() < end) {
                requestAnimationFrame(frame);
            }
        }());
    }

    students.forEach(name => {
        const div = document.createElement('div');
        div.className = 'student-item';
        div.innerText = name;
        div.onclick = function() {
            this.classList.toggle('done');
            if(this.classList.contains('done')) {
                doneCount++;
                this.innerHTML = name + "<br><small>å·²åŠ æ²¹</small>";
            } else {
                doneCount--;
                this.innerText = name;
            }
            updateProgress();
        };
        container.appendChild(div);
    });
</script>
</body>
</html>